<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Reset Password ‚Äî Market Llama</title>
  <meta name="description" content="Reset your Market Llama account password." />

  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600;700;900&display=swap" rel="stylesheet">
  <link rel="icon" type="image/svg+xml"
        href='data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 64 64"><circle cx="32" cy="32" r="30" fill="%234169E1"/><path d="M20 34h24v6H20zM20 24h18v6H20z" fill="white"/></svg>' />

  <style>
    :root {
      --nav-height: 64px;
      --nav-teal: #1a6d72;

      --auth-bg: #000000;
      --auth-card-bg: rgba(8, 12, 20, 0.88); /* glassy dark */
      --auth-border: rgba(255, 255, 255, 0.14);
      --auth-text: #e5e7eb;
      --auth-muted: #9ca3af;
      --auth-primary: #1a6d72;      /* dark turquoise */
      --auth-primary-hover: #20848a;
      --auth-radius: 24px;
      --auth-shadow: 0 26px 70px rgba(0, 0, 0, 0.75);
    }

    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }

    body.auth-body {
      min-height: 100vh;
      font-family: "Poppins", system-ui, -apple-system, BlinkMacSystemFont,
        "Segoe UI", sans-serif;
      background: var(--auth-bg);
      color: var(--auth-text);
    }

    /* ===========================
       FIXED TOP NAV (same pattern)
       =========================== */
    .auth-header {
      position: fixed;
      top: 0;
      left: 0;
      right: 0;
      height: var(--nav-height);
      padding: 0 40px;
      display: flex;
      align-items: center;
      justify-content: space-between;
      background: rgba(26, 109, 114, 0.98);
      border-bottom: 1px solid rgba(255, 255, 255, 0.15);
      backdrop-filter: blur(10px);
      -webkit-backdrop-filter: blur(10px);
      z-index: 100;
    }

    .auth-header-left {
      display: flex;
      align-items: center;
      gap: 10px;
      color: #ffffff;
      text-decoration: none;
    }

    .auth-logo {
      width: 30px;
      height: 30px;
      object-fit: contain;
    }

    .auth-brand {
      font-weight: 700;
      font-size: 1.05rem;
    }

    .auth-header-right {
      display: flex;
      align-items: center;
      gap: 14px;
    }

    .auth-header-right span {
      font-size: 0.88rem;
      color: #e5f4f6;
    }

    .auth-header-link {
      display: inline-flex;
      align-items: center;
      justify-content: center;
      padding: 0.5rem 1.4rem;
      border-radius: 999px;
      border: 1px solid rgba(255, 255, 255, 0.25);
      background: rgba(255, 255, 255, 0.08);
      color: #ffffff;
      font-size: 0.9rem;
      text-decoration: none;
      transition: background 0.18s ease, transform 0.18s ease,
        box-shadow 0.18s ease;
    }

    .auth-header-link:hover {
      background: rgba(255, 255, 255, 0.16);
      transform: translateY(-1px);
      box-shadow: 0 10px 24px rgba(0, 0, 0, 0.45);
    }

    /* ===========================
       LAYOUT
       =========================== */
    .auth-shell {
      min-height: 100vh;
      display: flex;
      flex-direction: column;
      padding-top: var(--nav-height);
    }

    .auth-main {
      flex: 1;
      display: flex;
      justify-content: center;
      align-items: flex-start;
      padding: 84px 16px 40px;
    }

    /* ===========================
       CARD ‚Äì GLASSY, WIDE & LONG
       =========================== */
    .auth-card {
      width: 100%;
      max-width: 640px;
      min-height: 720px;
      background: var(--auth-card-bg);
      border-radius: var(--auth-radius);
      box-shadow: var(--auth-shadow);
      padding: 44px 48px 40px;
      display: flex;
      flex-direction: column;
      border: 1px solid var(--auth-border);
      backdrop-filter: blur(22px);
      -webkit-backdrop-filter: blur(22px);
    }

    .auth-title {
      font-size: 1.8rem;
      font-weight: 700;
      margin-bottom: 6px;
      color: #f9fafb;
    }

    .auth-subtitle {
      font-size: 0.9rem;
      color: var(--auth-muted);
      margin-bottom: 24px;
      max-width: 34rem;
    }

    .auth-tabs {
      display: flex;
      gap: 32px;
      border-bottom: 1px solid rgba(148, 163, 184, 0.35);
      margin-bottom: 24px;
      padding-bottom: 4px;
    }

    .auth-tab {
      padding: 6px 0;
      font-size: 0.9rem;
      cursor: default;
      position: relative;
      color: var(--auth-muted);
      background: transparent;
      border: none;
    }

    .auth-tab.active {
      color: #e5e7eb;
      font-weight: 600;
    }

    .auth-tab.active::after {
      content: "";
      position: absolute;
      left: 0;
      bottom: -1px;
      width: 100%;
      height: 2px;
      background: #e5e7eb;
      border-radius: 999px;
    }

    /* ===========================
       INPUTS
       =========================== */
    .auth-form-group,
    .form-group {
      margin-bottom: 18px;
    }

    label,
    .auth-label {
      font-size: 0.85rem;
      font-weight: 500;
      margin-bottom: 6px;
      display: block;
      color: #e5e7eb;
    }

    input[type="email"],
    .auth-input {
      width: 100%;
      padding: 10px 12px;
      border-radius: 10px;
      border: 1px solid rgba(148, 163, 184, 0.6);
      font-size: 0.95rem;
      outline: none;
      background: rgba(15, 23, 42, 0.95);
      color: #f9fafb;
      transition: border-color 0.15s ease, box-shadow 0.15s ease,
        background 0.15s ease, transform 0.1s ease;
    }

    input[type="email"]::placeholder,
    .auth-input::placeholder {
      color: #6b7280;
    }

    input[type="email"]:focus,
    .auth-input:focus {
      border-color: #38bdf8;
      background: rgba(15, 23, 42, 1);
      box-shadow: 0 0 0 1px rgba(56, 189, 248, 0.3);
      transform: translateY(-1px);
    }

    .form-feedback {
      margin-top: 8px;
      font-size: 0.8rem;
      min-height: 1em;
    }

    /* invalid state */
    .input-invalid {
      border-color: #f97373 !important;
      box-shadow: 0 0 0 1px rgba(248, 113, 113, 0.35);
    }

    /* ===========================
       PRIMARY BUTTON
       =========================== */
    .auth-primary-btn,
    .auth-submit-btn {
      width: 100%;
      padding: 12px 14px;
      border-radius: 999px;
      border: none;
      outline: none;
      background: var(--auth-primary);
      color: #ffffff;
      font-weight: 600;
      font-size: 0.96rem;
      cursor: pointer;
      margin-top: 8px;
      transition: background 0.12s ease, transform 0.05s ease,
        box-shadow 0.12s ease;
      box-shadow: 0 18px 40px rgba(0, 0, 0, 0.6);
      letter-spacing: 0.04em;
      text-transform: uppercase;
    }

    .auth-primary-btn:hover,
    .auth-submit-btn:hover {
      background: var(--auth-primary-hover);
      box-shadow: 0 24px 50px rgba(0, 0, 0, 0.7);
      transform: translateY(-1px);
    }

    .auth-primary-btn:active,
    .auth-submit-btn:active {
      transform: translateY(0);
      box-shadow: 0 14px 30px rgba(0, 0, 0, 0.55);
    }

    /* Bottom switch row */
    .auth-switch-row {
      margin-top: 14px;
      font-size: 0.85rem;
      color: var(--auth-muted);
      text-align: center;
    }

    .auth-switch-link {
      color: #60a5fa;
      font-weight: 500;
      text-decoration: underline;
      margin-left: 4px;
    }

    /* ===========================
       FOOTER + DISCLAIMER
       =========================== */
    .page-footer {
      padding: 32px 16px 24px;
      background: rgba(255, 255, 255, 0.04);
      border-top: 1px solid rgba(255, 255, 255, 0.12);
      backdrop-filter: blur(10px);
      -webkit-backdrop-filter: blur(10px);
      color: #d1d5db;
      margin-top: 12px;
    }

    .footer-inner {
      max-width: 1200px;
      margin: 0 auto;
    }

    .footer-disclaimer-wrap {
      max-width: 1200px;
      margin: 0 auto 2rem auto;
    }

    .risk-disclaimer {
      font-size: 0.9rem;
      line-height: 1.55;
      color: #bfbfbf;
      text-align: left;
    }

    .risk-disclaimer strong {
      color: #e0e0e0;
      display: block;
      margin-bottom: 0.75rem;
    }

    .footer-columns {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(140px, 1fr));
      gap: 1.2rem;
      margin-top: 1.5rem;
      margin-bottom: 1.2rem;
    }

    .footer-col h4 {
      margin-bottom: 0.5rem;
      font-weight: 600;
      color: #ffffff;
      font-size: 0.95rem;
    }

    .footer-col a {
      display: block;
      font-size: 0.85rem;
      margin: 3px 0;
      color: #d1d5db;
      text-decoration: none;
      opacity: 0.9;
      transition: opacity 0.18s ease, transform 0.12s ease;
    }

    .footer-col a:hover {
      opacity: 1;
      transform: translateY(-1px);
    }

    .footer-note {
      font-size: 0.78rem;
      color: #9ca3af;
      text-align: center;
      margin-top: 6px;
    }

    /* ===========================
       CHAT WIDGET ‚Äì DARK TURQUOISE
       (same as Verify Email)
       =========================== */
    .chat-fab {
      position: fixed;
      right: 20px;
      bottom: 88px;
      width: 56px;
      height: 56px;
      border-radius: 50%;
      background: var(--nav-teal);
      color: #eaeaea;
      border: 1px solid rgba(255, 255, 255, .18);
      cursor: pointer;
      z-index: 1100;
      display: flex;
      align-items: center;
      justify-content: center;
      box-shadow: 0 10px 24px rgba(0, 0, 0, .45);
      transition: transform .15s ease, box-shadow .15s ease, background .15s ease;
      backdrop-filter: blur(8px);
    }

    .chat-fab:hover {
      transform: translateY(-1px);
      box-shadow: 0 14px 30px rgba(0, 0, 0, .5);
      background: #20848a;
    }

    .chat-fab svg {
      width: 24px;
      height: 24px;
      stroke: currentColor;
    }

    .chat-panel {
      position: fixed;
      right: 20px;
      bottom: 156px;
      width: min(420px, 92vw);
      max-height: 72vh;
      background: rgba(8, 20, 24, .96);
      backdrop-filter: blur(10px);
      border: 1px solid rgba(26, 109, 114, 0.6);
      border-radius: 16px;
      z-index: 1200;
      display: flex;
      flex-direction: column;
      opacity: 0;
      transform: translateY(8px) scale(.98);
      pointer-events: none;
      transition: opacity .2s ease, transform .2s ease;
      color: #fff;
      overflow: hidden;
    }

    .chat-panel.open {
      opacity: 1;
      transform: translateY(0) scale(1);
      pointer-events: auto;
    }

    .chat-header {
      display: flex;
      align-items: center;
      justify-content: space-between;
      padding: 12px 14px;
      border-bottom: 1px solid rgba(255, 255, 255, .06);
      background: var(--nav-teal);
    }

    .chat-title {
      font-weight: 600;
    }

    .chat-close {
      background: none;
      border: none;
      color: #fff;
      font-size: 22px;
      cursor: pointer;
      line-height: 1;
    }

    .chat-body {
      padding: 12px;
      display: flex;
      flex-direction: column;
      gap: 8px;
      overflow: auto;
    }

    .chat-msg {
      font-size: .92rem;
      line-height: 1.4;
      background: rgba(255, 255, 255, .06);
      color: #eaeaea;
      padding: 8px 10px;
      border-radius: 12px;
      max-width: 85%;
    }

    .chat-msg.bot {
      align-self: flex-start;
    }

    .chat-msg.user {
      align-self: flex-end;
      background: var(--nav-teal);
      color: #fff;
    }

    .chat-input-row {
      display: flex;
      gap: 8px;
      padding: 12px;
      border-top: 1px solid rgba(255, 255, 255, .06);
      background: rgba(6, 14, 16, 0.96);
    }

    .chat-input-row input {
      flex: 1;
      background: rgba(255, 255, 255, .06);
      border: 1px solid rgba(255, 255, 255, .12);
      color: #fff;
      border-radius: 12px;
      padding: 10px 12px;
    }

    .chat-send {
      background: var(--nav-teal);
      color: #fff;
      border: none;
      border-radius: 12px;
      padding: 10px 14px;
      cursor: pointer;
    }

    /* Mobile */
    @media (max-width: 640px) {
      .auth-header {
        padding: 0 16px;
      }

      .auth-main {
        padding: 84px 12px 32px;
      }

      .auth-card {
        max-width: 100%;
        min-height: 620px;
        padding: 28px 22px 26px;
        border-radius: 18px;
      }

      .auth-title {
        font-size: 1.55rem;
      }

      .auth-header-right span {
        display: none;
      }

      .chat-fab {
        right: 14px;
      }

      .chat-panel {
        right: 14px;
      }
    }
  </style>
</head>

<body class="auth-body">
  <!-- Top bar -->
  <header class="auth-header">
    <a href="index.html#hero" class="auth-header-left">
      <img src="assets/llama.webp" alt="Market Llama logo" class="auth-logo" />
      <span class="auth-brand">Market Llama</span>
    </a>
    <div class="auth-header-right">
      <span>Remembered your password?</span>
      <a href="signin.html" class="auth-header-link">Sign in</a>
    </div>
  </header>

  <div class="auth-shell">
    <main class="auth-main">
      <section class="auth-card" aria-labelledby="resetTitle">
        <h1 id="resetTitle" class="auth-title">Reset your password</h1>
        <p class="auth-subtitle">
          Enter the email linked to your Market Llama account. We‚Äôll send you a one-time code to reset your password.
        </p>

        <form id="resetForm" class="auth-form" novalidate>
          <div class="auth-tabs">
            <button type="button" class="auth-tab active" aria-selected="true">
              Reset password
            </button>
          </div>

          <div class="form-group">
            <label for="resetEmail">Email address</label>
            <input
              id="resetEmail"
              name="email"
              type="email"
              placeholder="you@example.com"
              autocomplete="email"
              required
            />
          </div>

          <button type="submit" class="auth-submit-btn">
            Send reset code
          </button>

          <p id="resetFeedback" class="form-feedback" role="status" aria-live="polite"></p>

          <p class="auth-switch-row">
            <span>New to Market Llama?</span>
            <a href="signup.html" class="auth-switch-link">Create an account</a>
          </p>
        </form>
      </section>
    </main>

    <!-- Shared footer + disclaimer -->
    <footer class="page-footer">
      <div class="footer-inner">
        <div class="footer-disclaimer-wrap">
          <div class="risk-disclaimer">
            <strong>‚ö†Ô∏è Risk Disclaimer:</strong>
            Trading in financial markets carries inherent risks, including the potential for loss of capital.
            Performance may vary based on market conditions, account size, risk tolerance, and execution environment.
            While Market Llama is built to deliver consistent, data-driven performance through advanced automation and
            professional account management, no trading environment is completely without risk.
            <br /><br />
            Users should understand that smaller accounts face higher exposure to volatility, faster drawdown cycles,
            and reduced margin flexibility compared to larger accounts. Larger accounts can withstand market
            fluctuations more effectively, but they are still subject to market risk and temporary performance
            deviations.
            <br /><br />
            Market Llama operates as a technology-enabled, professional account management platform ‚Äî similar to
            institutional asset managers ‚Äî providing users with sophisticated trading systems, automated execution, and
            real-time risk controls. Our purpose is to optimize performance, protect user capital, and deliver
            institutional-grade trading outcomes.
            <br /><br />
            By connecting your trading account to Market Llama, you acknowledge that every investment activity carries
            risk, and that results can vary across market conditions. We commit to operating transparently, managing
            accounts responsibly, and applying disciplined, data-driven strategies designed to achieve consistent
            long-term performance.
          </div>
        </div>

        <div class="footer-columns">
          <div class="footer-col">
            <h4>Company</h4>
            <a href="abouts.html">About</a>
          </div>
          <div class="footer-col">
            <h4>Resources</h4>
            <a href="support.html">Support</a>
          </div>
          <div class="footer-col">
            <h4>Legal</h4>
            <a href="terms.html">Terms</a>
            <a href="privacy.html">Privacy</a>
          </div>
          <div class="footer-col">
            <h4>Connect</h4>
            <a href="#">Whatsapp</a>
            <a href="#">Twitter</a>
            <a href="#">Facebook</a>
            <a href="#">Instagram</a>
          </div>
        </div>

        <p class="footer-note">¬© 2025 Market Llama. All rights reserved.</p>
      </div>
    </footer>
  </div>

  <!-- CHAT -->
  <button id="chatFab" class="chat-fab" aria-label="Open chat" aria-controls="chatPanel">
    <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.8"
      stroke-linecap="round" stroke-linejoin="round" aria-hidden="true">
      <path d="M20 3H4a2 2 0 0 0-2 2v12l4-4h14a2 2 0 0 0 2-2V5a2 2 0 0 0-2-2z" />
      <circle cx="9" cy="10" r="1.25" />
      <circle cx="12" cy="10" r="1.25" />
      <circle cx="15" cy="10" r="1.25" />
    </svg>
  </button>
  <div id="chatPanel" class="chat-panel" role="dialog" aria-label="Assistant chat" aria-modal="true"
    aria-hidden="true">
    <div class="chat-header">
      <div class="chat-title">Assistant</div>
      <button id="chatClose" class="chat-close" aria-label="Close chat">√ó</button>
    </div>
    <div class="chat-body" id="chatBody">
      <div class="chat-msg bot">Hi! How can I help?</div>
    </div>
    <form id="chatForm" class="chat-input-row">
      <input id="chatInput" type="text" placeholder="Type a message‚Ä¶" autocomplete="off" />
      <button class="chat-send" type="submit">Send</button>
    </form>
  </div>

  <!-- STRICT EMAIL VALIDATION FOR RESET -->
  <script>
    (function () {
      const form = document.getElementById('resetForm');
      const emailInput = document.getElementById('resetEmail');
      const feedback = document.getElementById('resetFeedback');

      if (!form || !emailInput || !feedback) return;

      // Strict email check: must be full "local@domain.com"
      function isValidEmailStrict(value) {
        const email = value.trim().toLowerCase();

        // Basic shape: something@something.something
        const basicPattern = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;
        if (!basicPattern.test(email)) return false;

        const parts = email.split('@');
        if (parts.length !== 2) return false;

        const domain = parts[1];

        // üîí Domain must end with ".com" exactly (no .co, .con, .comm, etc.)
        const domainPattern = /^[a-z0-9.-]+\.com$/;
        if (!domainPattern.test(domain)) return false;

        return true;
      }

      function setError(msg) {
        feedback.textContent = msg;
        feedback.style.color = '#ff9b9b';
        emailInput.classList.add('input-invalid');
      }

      function clearError() {
        feedback.textContent = '';
        feedback.style.color = '';
        emailInput.classList.remove('input-invalid');
      }

      emailInput.addEventListener('input', clearError);

      form.addEventListener('submit', function (e) {
        e.preventDefault();
        clearError();

        const value = emailInput.value.trim();

        if (!value) {
          setError('Please enter your email address.');
          emailInput.focus();
          return;
        }

        if (!isValidEmailStrict(value)) {
          setError('Enter a full valid email address, e.g. example@gmail.com.');
          emailInput.focus();
          return;
        }

        // ‚úÖ Passed strict email check ‚Äì now we "send" the reset code
        // (Mock for now; later you‚Äôll call your backend here.)
        feedback.textContent = 'If this email exists, a reset code has been sent.';
        feedback.style.color = '#7dffb3';
      });
    })();
  </script>

  <!-- Chat wiring with smooth outside-click close (same as Verify Email) -->
  <script>
    document.addEventListener('DOMContentLoaded', function () {
      const chatFab = document.getElementById('chatFab');
      const chatPanel = document.getElementById('chatPanel');
      const chatClose = document.getElementById('chatClose');
      const chatForm = document.getElementById('chatForm');
      const chatInput = document.getElementById('chatInput');
      const chatBody = document.getElementById('chatBody');

      function openChat() {
        chatPanel.classList.add('open');
      }

      function closeChat() {
        chatPanel.classList.remove('open');
      }

      if (chatFab) {
        chatFab.addEventListener('click', function (e) {
          e.stopPropagation();
          openChat();
        });
      }

      if (chatClose) {
        chatClose.addEventListener('click', function (e) {
          e.stopPropagation();
          closeChat();
        });
      }

      // Close chat by clicking/tapping anywhere outside (without jumping to top)
      document.addEventListener('click', function (e) {
        if (!chatPanel.classList.contains('open')) return;

        const target = e.target;
        if (chatPanel.contains(target) || chatFab.contains(target)) return;

        // Chat is open and click is outside -> close and swallow the click
        e.preventDefault();
        e.stopPropagation();
        closeChat();
      }, true); // capture so we intercept before links/anchors fire

      if (chatForm) {
        chatForm.addEventListener('submit', function (e) {
          e.preventDefault();
          const text = chatInput.value.trim();
          if (!text) return;
          const msg = document.createElement('div');
          msg.className = 'chat-msg user';
          msg.textContent = text;
          chatBody.appendChild(msg);
          chatInput.value = '';
          chatBody.scrollTop = chatBody.scrollHeight;
        });
      }
    });
  </script>
</body>
</html>