<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Accounts ‚Äî Market Llama</title>
  <meta name="description" content="Manage your live and demo trading accounts." />

  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600;700;900&display=swap" rel="stylesheet">
  <link rel="icon" type="image/svg+xml"
        href='data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 64 64"><circle cx="32" cy="32" r="30" fill="%234169E1"/><path d="M20 34h24v6H20zM20 24h18v6H20z" fill="white"/></svg>' />

  <style>
    :root {
      --header-h: 60px;
      --bg: #0b0b0c;
      --panel: #121214;
      --muted: #8f8f92;
      --text: #ffffff;

      --accent: #ffffff;
      --accent-plain: #dadada;

      --glow: rgba(255, 255, 255, .06);
      --glass: rgba(255, 255, 255, .04);
      --ring: rgba(255, 255, 255, .12);
      --pill: #16171a;
      --shadow: 0 8px 24px rgba(0, 0, 0, .45);

      --nav-teal: #1a6d72;
      --header-blue: #0097b2;
    }

    * { box-sizing: border-box; margin: 0; padding: 0; }
    html { font-size: 14px; }
    body.app.dark {
      background: var(--bg);
      color: var(--text);
      font-family: "Poppins", system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif;
      overflow-x: hidden;
    }

    /* ===== PROFILE BACKGROUND ===== */
    .profile-background {
      position: fixed;
      inset: 0;
      z-index: -1;
      width: 150vw;
      height: 120vh;
      top: -10%;
      left: 15%;
      background:
        radial-gradient(200px 260px at 20% 30%, transparent 30%, rgba(255, 255, 255, .05) 32%, transparent 34%),
        radial-gradient(180px 240px at 40% 20%, transparent 30%, rgba(255, 255, 255, .05) 32%, transparent 34%),
        radial-gradient(140px 200px at 25% 70%, transparent 30%, rgba(255, 255, 255, .05) 32%, transparent 34%),
        radial-gradient(100px 140px at 75% 25%, transparent 30%, rgba(255, 255, 255, .05) 32%, transparent 34%),
        radial-gradient(160px 220px at 80% 60%, transparent 30%, rgba(255, 255, 255, .05) 32%, transparent 34%),
        radial-gradient(120px 180px at 60% 80%, transparent 30%, rgba(255, 255, 255, .05) 32%, transparent 34%);
      filter: blur(60px);
      opacity: 0.6;
      pointer-events: none;
    }

    /* ===== HEADER (NAVBAR) ===== */
    .site-header {
      position: fixed;
      inset: 0 0 auto 0;
      height: var(--header-h);
      z-index: 40;
      display: flex;
      align-items: center;
      justify-content: space-between;
      gap: 10px;
      padding: 8px 14px;
      background: var(--header-blue);
      border-bottom: 1px solid var(--ring);
      backdrop-filter: blur(8px);
    }

    .site-header .left {
      display: flex;
      align-items: center;
      gap: 8px;
      min-width: 220px;
    }

    .brand {
      display: flex;
      align-items: center;
      gap: 8px;
      color: var(--text);
      text-decoration: none;
      font-weight: 700;
      white-space: nowrap;
    }

    .logo {
      width: 26px;
      height: 26px;
      border-radius: 8px;
      display: inline-flex;
      align-items: center;
      justify-content: center;
      overflow: hidden;
      flex: 0 0 auto;
    }
    .logo-img {
      width: 100%;
      height: 100%;
      object-fit: cover;
      border-radius: 6px;
      display: block;
    }
    .brand-name { letter-spacing: .2px; font-size: 1rem; }

    .site-actions {
      position: relative;
      display: flex;
      align-items: center;
      gap: 8px;
    }

    .icon-btn {
      background: transparent;
      border: 1px solid var(--ring);
      color: var(--text);
      padding: 6px 8px;
      border-radius: 10px;
      cursor: pointer;
      line-height: 1;
      display: inline-flex;
      align-items: center;
      justify-content: center;
      transition: all 0.2s ease;
      text-decoration: none;
    }
    .icon-btn:hover { background: rgba(255, 255, 255, 0.1); transform: translateY(-1px); }

    .icon-btn.sm { padding: 5px; border-radius: 9px; }

    .balance-wrap {
      display: flex;
      align-items: center;
      gap: 6px;
      padding: 5px 8px;
      border: 1px solid var(--ring);
      border-radius: 10px;
      background: var(--glass);
    }
    .balance-amount { letter-spacing: .2px; font-size: .95rem; }

    .language-dropdown {
      position: absolute;
      top: 100%;
      right: 120px;
      background: rgba(20, 20, 20, 0.95);
      border: 1px solid var(--ring);
      border-radius: 12px;
      padding: 8px;
      min-width: 160px;
      backdrop-filter: blur(10px);
      box-shadow: var(--shadow);
      z-index: 1000; /* FIXED: removed invalid "z-index hookup" */
    }

    .lang-option {
      display: flex;
      align-items: center;
      gap: 10px;
      width: 100%;
      padding: 10px 12px;
      background: transparent;
      border: none;
      color: var(--text);
      cursor: pointer;
      border-radius: 8px;
      transition: all 0.2s ease;
      font-family: inherit;
      font-size: 14px;
      text-align: left;
    }
    .lang-option:hover { background: rgba(255, 255, 255, 0.1); }
    .flag { font-size: 16px; }

    .mobile-only { display: none; }
    .desktop-only { display: inline-flex; }

    .ic {
      font-size: 18px;
      line-height: 1;
      vertical-align: middle;
      opacity: 0.9;
      transition: opacity 0.2s ease;
    }
    .icon-btn:hover .ic { opacity: 1; }

    /* ===== LAYOUT ===== */
    .dashboard { min-height: 100vh; padding-top: var(--header-h); }

    .side {
      position: fixed;
      top: var(--header-h);
      left: 0;
      bottom: 0;
      z-index: 30;
      width: 240px;
      overflow-y: auto;
      border-right: 1px solid var(--ring);
      background: linear-gradient(180deg, rgba(255, 255, 255, .04), rgba(255, 255, 255, .02));
      transition: left .3s ease, width .25s ease;
    }

    .side[data-state="collapsed"] { width: 68px; }
    .side .label { transition: opacity .2s ease; }
    .side[data-state="collapsed"] .label { opacity: 0; pointer-events: none; }

    .side-toggle {
      position: sticky;
      top: 0;
      width: 100%;
      background: rgb(75, 75, 75);
      border: none;
      color: white;
      padding: 10px;
      cursor: pointer;
      display: flex;
      align-items: center;
      justify-content: center;
      z-index: 2;
    }

    .side-menu {
      list-style: none;
      margin: 8px 0 48px;
      padding: 6px;
      display: flex;
      flex-direction: column;
      gap: 6px;
    }

    .side-menu a,
    .accordion {
      display: flex;
      align-items: center;
      gap: 10px;
      width: 100%;
      text-decoration: none;
      color: var(--accent-plain);
      background: transparent;
      border: 1px solid transparent;
      padding: 8px 10px;
      border-radius: 10px;
      cursor: pointer;
    }

    .side-menu li.active > a {
      background: var(--glass);
      border-color: var(--ring);
      color: var(--text);
    }

    .has-submenu { position: relative; }

    .accordion {
      background: none;
      border: none;
      transition: all 0.3s ease;
      font-family: inherit;
      font-size: inherit;
    }
    .accordion:hover { background: rgba(255, 255, 255, 0.05); border-color: var(--ring); }

    .accordion .chevron { margin-left: auto; transition: transform 0.3s ease; }
    .accordion[aria-expanded="true"] .chevron { transform: rotate(180deg); }
    .accordion[aria-expanded="true"] { background: var(--glass); border-color: var(--ring); color: var(--text); }

    .submenu {
      list-style: none;
      padding-left: 20px;
      margin: 4px 0 0;
      background: rgba(0, 0, 0, 0.2);
      border-left: 2px solid #4169E1;
      border-radius: 0 0 8px 8px;
      overflow: hidden;
      transition: all 0.3s ease;
    }
    .side[data-state="collapsed"] .submenu { display: none !important; }

    .submenu li { border-bottom: 1px solid rgba(255, 255, 255, 0.05); }
    .submenu li:last-child { border-bottom: none; }

    .submenu a {
      display: flex;
      align-items: center;
      gap: 10px;
      padding: 8px 12px;
      color: rgba(255, 255, 255, 0.8);
      text-decoration: none;
      transition: all 0.3s ease;
      font-size: 0.9rem;
      border: none;
      border-radius: 6px;
      margin: 2px 4px;
      width: calc(100% - 8px);
    }
    .submenu a:hover { background: rgba(255, 255, 255, 0.1); color: white; }

    /* ===== CONTENT (expands when sidebar collapses) ===== */
    .content {
      margin-left: 240px;
      padding: 18px clamp(12px, 2vw, 24px);
      transition: margin-left 0.25s ease;
    }
    .side[data-state="collapsed"] ~ .content { margin-left: 68px; }

    .content-top {
      display: flex;
      align-items: center;
      justify-content: space-between;
      gap: 12px;
      margin: 8px 0 16px;
    }

    .page-title {
      font-size: clamp(22px, 3vw, 42px);
      font-weight: 800;
      letter-spacing: .3px;
    }

    .btn {
      display: inline-flex;
      align-items: center;
      gap: 8px;
      padding: 10px 16px;
      border-radius: 12px;
      border: 1px solid var(--ring);
      background: var(--glass);
      color: var(--text);
      cursor: pointer;
      box-shadow: var(--shadow);
      font-size: .95rem;
      transition: all 0.2s ease;
      text-decoration: none;
      white-space: nowrap;
    }
    .btn:hover { background: rgba(255, 255, 255, 0.1); transform: translateY(-1px); }

    /* ===== ACCOUNTS UI ===== */
    .greeting { color: rgba(255,255,255,.9); margin: 6px 0 16px; }

    .tabs {
      display: flex;
      gap: 8px;
      margin: 8px 0 14px;
    }
    .tab {
      background: #1a1b1f;
      border: 1px solid var(--ring);
      color: var(--accent-plain);
      padding: 8px 16px;
      border-radius: 999px;
      cursor: pointer;
      font-size: .95rem;
      font-family: inherit;
      transition: transform .15s ease, background .15s ease;
    }
    .tab:hover { transform: translateY(-1px); background: rgba(255,255,255,.07); }
    .tab.active {
      background: var(--text);
      color: #000;
    }

    /* ===== OLD BOX STYLE (FROM YOUR FINTECH CODE) ===== */
    .chip {
      display: inline-block;
      padding: 5px 10px;
      border-radius: 999px;
      background: #1a1b1f;
      border: 1px solid var(--ring);
      font-size: .8rem;
      margin-right: 8px;
      color: #fff;
    }
    .chip-live { background: #4CAF50; color: #fff; border-color: rgba(255,255,255,.14); }
    .chip-demo { background: #FF9800; color: #fff; border-color: rgba(255,255,255,.14); }
    .chip-broker { background: #2196F3; color: #fff; border-color: rgba(255,255,255,.14); }

    .account-card {
      position: relative;
      overflow: hidden;
      background: linear-gradient(180deg, rgba(255, 255, 255, .04), rgba(255, 255, 255, .02));
      border: 1px solid var(--ring);
      border-radius: 22px;
      box-shadow: var(--shadow);
      padding: 14px;
      margin-bottom: 10px;

      width: min(1400px, 100%);
      transition: width 0.25s ease;
    }

    .side[data-state="collapsed"] ~ .content .account-card {
      width: min(1700px, 100%);
    }

    .card-head {
      display: flex;
      align-items: center;
      justify-content: space-between;
      margin-bottom: 8px;
    }

    .card-body {
      display: flex;
      align-items: center;
      justify-content: space-between;
      gap: 12px;
      padding: 8px 6px 16px;
    }

    .big-amount {
      font-size: 16px;
      font-weight: 500;
      letter-spacing: 1.4px;
      color: #fff;
    }

    .card-actions {
      display: flex;
      gap: 10px;
      align-items: center;
    }

    .line-art {
      position: absolute;
      inset: -10% -5% auto auto;
      height: 120%;
      width: 70%;
      pointer-events: none;
      opacity: .18;
      filter: blur(.2px);
      background:
        radial-gradient(100px 120px at 40% 35%, transparent 30%, rgba(255, 255, 255, .05) 32%, transparent 34%),
        radial-gradient(120px 160px at 55% 48%, transparent 30%, rgba(255, 255, 255, .05) 32%, transparent 34%),
        radial-gradient(160px 220px at 65% 60%, transparent 30%, rgba(255, 255, 255, .05) 32%, transparent 34%);
    }

    /* ===== FOOTER ===== */
    .legal-footer {
      margin-left: 240px;
      margin-top: 24px;
      padding: 18px clamp(12px, 2vw, 24px);
      border-top: 1px solid rgba(255, 255, 255, 0.06);
      color: var(--muted);
      font-size: 13px;
      transition: margin-left 0.25s ease;
    }
    .side[data-state="collapsed"] ~ .legal-footer { margin-left: 68px; }

    .footer-inner {
      max-width: none;
      margin: 0;

      display: flex;
      justify-content: space-between;
      align-items: flex-start;
      gap: 24px;
    }
    .footer-risk { line-height: 1.7; max-width: 720px; }
    .footer-links { text-align: right; font-size: 13px; }
    .footer-links-list { list-style: none; display: flex; flex-direction: column; gap: 4px; }
    .footer-links a {
      color: var(--accent-plain);
      text-decoration: none;
      opacity: 0.9;
      transition: opacity 0.2s ease, text-decoration-color 0.2s ease;
    }
    .footer-links a:hover { opacity: 1; text-decoration: underline; }

    /* ===== BACKDROP (mobile sidebar) ===== */
    .backdrop {
      position: fixed;
      inset: 0;
      background: rgba(0, 0, 0, .45);
      z-index: 35;
      backdrop-filter: blur(2px);
    }

    /* ===== CHAT (unchanged teal style) ===== */
    .chat-fab {
      position: fixed;
      right: 20px;
      bottom: 88px;
      width: 56px;
      height: 56px;
      border-radius: 50%;
      background: var(--nav-teal);
      color: #eaeaea;
      border: 1px solid rgba(255, 255, 255, .18);
      cursor: pointer;
      z-index: 1100;
      display: flex;
      align-items: center;
      justify-content: center;
      box-shadow: 0 10px 24px rgba(0, 0, 0, .45);
      transition: transform .15s ease, box-shadow .15s ease, background .15s ease;
      backdrop-filter: blur(8px);
    }
    .chat-fab:hover { transform: translateY(-1px); box-shadow: 0 14px 30px rgba(0, 0, 0, .5); background: #20848a; }
    .chat-fab svg { width: 24px; height: 24px; stroke: currentColor; }

    .chat-panel {
      position: fixed;
      right: 20px;
      bottom: 156px;
      width: min(420px, 92vw);
      max-height: 72vh;
      background: rgba(8, 20, 24, .96);
      backdrop-filter: blur(10px);
      border: 1px solid rgba(26, 109, 114, 0.6);
      border-radius: 16px;
      z-index: 1200;
      display: flex;
      flex-direction: column;
      opacity: 0;
      transform: translateY(8px) scale(.98);
      pointer-events: none;
      transition: opacity .2s ease, transform .2s ease;
      color: #fff;
      overflow: hidden;
    }
    .chat-panel.open { opacity: 1; transform: translateY(0) scale(1); pointer-events: auto; }

    .chat-header {
      display: flex;
      align-items: center;
      justify-content: space-between;
      padding: 12px 14px;
      border-bottom: 1px solid rgba(255, 255, 255, .06);
      background: var(--nav-teal);
    }
    .chat-title { font-weight: 600; }
    .chat-close { background: none; border: none; color: #fff; font-size: 22px; cursor: pointer; line-height: 1; }

    .chat-body { padding: 12px; display: flex; flex-direction: column; gap: 8px; overflow: auto; }
    .chat-msg {
      font-size: .92rem;
      line-height: 1.4;
      background: rgba(255, 255, 255, .06);
      color: #eaeaea;
      padding: 8px 10px;
      border-radius: 12px;
      max-width: 85%;
    }
    .chat-msg.bot { align-self: flex-start; }
    .chat-msg.user { align-self: flex-end; background: var(--nav-teal); color: #fff; }

    .chat-input-row {
      display: flex;
      gap: 8px;
      padding: 12px;
      border-top: 1px solid rgba(255, 255, 255, .06);
      background: rgba(6, 14, 16, 0.96);
    }
    .chat-input-row input {
      flex: 1;
      background: rgba(255, 255, 255, .06);
      border: 1px solid rgba(255, 255, 255, .12);
      color: #fff;
      border-radius: 12px;
      padding: 10px 12px;
      font-family: inherit;
    }
    .chat-send {
      background: var(--nav-teal);
      color: #fff;
      border: none;
      border-radius: 12px;
      padding: 10px 14px;
      cursor: pointer;
      font-family: inherit;
      font-weight: 600;
    }

    /* ===== RESPONSIVE ===== */
    @media (max-width: 1100px) {
      .desktop-only { display: none; }
      .mobile-only { display: inline-flex; }
    }

    @media (max-width: 1024px) {
      .side[data-state="expanded"] { width: 200px; }
      .content { margin-left: 200px; }
      .legal-footer { margin-left: 200px; }
    }

    @media (max-width: 768px) {
      .side { left: -240px; width: 240px; }
      .side.open { left: 0; }
      .content { margin-left: 0 !important; }
      .legal-footer { margin-left: 0 !important; }

      .language-dropdown { right: 10px; min-width: 140px; }
      .footer-inner { flex-direction: column; align-items: flex-start; gap: 12px; }
      .footer-links { text-align: left; }
    }

    @media (max-width:540px) {
      .chat-fab { right: 14px; bottom: 88px; }
      .chat-panel { right: 14px; bottom: 148px; }
    }
   /* ===============================
   ADD ACCOUNT MODAL ‚Äì HARD FIX
   =============================== */
/* Modal backdrop - hidden by default */
#addAccountModal {
  display: none;
  position: fixed;
  inset: 0;
  background: rgba(0, 0, 0, 0.45);
  align-items: center;
  justify-content: center;
  z-index: 2000;
}

/* Show modal when NOT hidden */
#addAccountModal:not([hidden]) {
  display: flex;
}

#addAccountModal .account-card {
  position: relative;
  z-index: 2001;
  background: var(--card-bg, #0f172a);
  border-radius: 14px;
  box-shadow: 0 20px 60px rgba(0, 0, 0, 0.6);
  width: 100%;
  max-width: 420px;
}
  </style>

  <script src="https://code.iconify.design/iconify-icon/1.0.8/iconify-icon.min.js"></script>
</head>

<body class="app dark">
  <div class="profile-background"></div>

  <!-- ===== NAVBAR ===== -->
  <header class="site-header" id="siteHeader">
    <div class="left">
      <button class="icon-btn mobile-only" id="mobileSideTrigger" aria-label="Toggle menu" aria-controls="sidebar" aria-expanded="false">
        <iconify-icon class="ic" icon="mdi:menu"></iconify-icon>
      </button>

      <a href="accounts.html" class="brand" data-link="accounts">
        <div class="logo">
          <img src="llama.webp" alt="Market Llama" class="logo-img" loading="lazy" />
        </div>
        <span class="brand-name">Market Llama</span>
      </a>
    </div>

    <nav class="site-actions">
      <button class="icon-btn" id="qrBtn" aria-label="Scan QR">
        <iconify-icon class="ic" icon="mdi:qrcode-scan"></iconify-icon>
      </button>

      <div class="balance-wrap">
        <span class="balance-amount" id="topBalance">‚Äî</span>
        <button class="icon-btn" id="toggleBalance" aria-label="Hide balance">
          <iconify-icon class="ic" id="topEye" icon="mdi:eye-outline"></iconify-icon>
        </button>
      </div>

      <button class="icon-btn" id="languageBtn" aria-label="Language">
        <iconify-icon class="ic" icon="mdi:translate"></iconify-icon>
      </button>

      <div class="language-dropdown" id="languageDropdown" hidden>
        <button class="lang-option" data-lang="en"><span class="flag">üá∫üá∏</span> English</button>
        <button class="lang-option" data-lang="de"><span class="flag">üá©üá™</span> Deutsch</button>
        <button class="lang-option" data-lang="es"><span class="flag">üá™üá∏</span> Espa√±ol</button>
        <button class="lang-option" data-lang="fr"><span class="flag">üá´üá∑</span> Fran√ßais</button>
        <button class="lang-option" data-lang="ar"><span class="flag">üá∏üá¶</span> ÿßŸÑÿπÿ±ÿ®Ÿäÿ©</button>
      </div>

      <button class="icon-btn" aria-label="Notifications">
        <iconify-icon class="ic" icon="mdi:bell-outline"></iconify-icon>
      </button>

      <button class="icon-btn" aria-label="Support">
        <iconify-icon class="ic" icon="mdi:headphones"></iconify-icon>
      </button>

      <a href="profile.html" class="icon-btn" aria-label="Profile" data-link="profile">
        <iconify-icon class="ic" icon="mdi:account-circle-outline"></iconify-icon>
      </a>
    </nav>
  </header>

  <div class="backdrop" id="backdrop" hidden></div>

  <main class="dashboard">
    <!-- ===== SIDEBAR ===== -->
    <aside class="side" id="sidebar" aria-label="Primary" data-state="expanded">
      <button class="side-toggle desktop-only" id="sideToggle" aria-label="Collapse sidebar" aria-expanded="true">
        <iconify-icon class="ic" icon="mdi:chevron-double-left"></iconify-icon>
      </button>

      <ul class="side-menu">
        <li class="active">
          <a href="accounts.html" data-link="accounts">
            <iconify-icon class="ic" icon="mdi:view-dashboard-outline"></iconify-icon>
            <span class="label" data-i18n="accounts">Accounts</span>
          </a>
        </li>

        <li class="has-submenu">
          <button class="accordion" aria-expanded="false">
            <iconify-icon class="ic" icon="mdi:wallet-outline"></iconify-icon>
            <span class="label" data-i18n="paymentsWallet">Payments &amp; Wallet</span>
            <iconify-icon class="ic chevron" icon="mdi:chevron-down"></iconify-icon>
          </button>

          <ul class="submenu" hidden>
            <li>
              <a href="subscriptionplan.html" data-link="subscriptionplan">
                <iconify-icon class="ic" icon="mdi:currency-usd"></iconify-icon>
                <span data-i18n="subscription">Subscription Plan</span>
              </a>
            </li>
            <li>
              <a href="#" data-link="transactionHistory">
                <iconify-icon class="ic" icon="mdi:history"></iconify-icon>
                <span data-i18n="transactionHistory">Transaction History</span>
              </a>
            </li>
          </ul>
        </li>

        <li>
          <a href="insight.html" data-link="insight">
            <iconify-icon class="ic" icon="mdi:map-marker-outline"></iconify-icon>
            <span class="label" data-i18n="insight">Insight</span>
          </a>
        </li>

        <li>
          <a href="performance.html" data-link="performance">
            <iconify-icon class="ic" icon="mdi:cpu-64-bit"></iconify-icon>
            <span class="label" data-i18n="performance">Performance</span>
          </a>
        </li>

        <li>
          <a href="chart.html" data-link="chart">
            <iconify-icon class="ic" icon="mdi:chart-bar"></iconify-icon>
            <span class="label" data-i18n="chart">Chart</span>
          </a>
        </li>

        <li>
          <a href="instructions.html" data-link="instructions">
            <iconify-icon class="ic" icon="mdi:book-open-outline"></iconify-icon>
            <span class="label" data-i18n="instructions">Instructions</span>
          </a>
        </li>

        <li>
          <a href="profile.html" data-link="profile">
            <iconify-icon class="ic" icon="mdi:cog-outline"></iconify-icon>
            <span class="label" data-i18n="settings">Settings</span>
          </a>
        </li>
      </ul>
    </aside>

    <!-- ===== CONTENT ===== -->
    <section class="content" id="content">
      <div class="content-top">
        <div>
          <h1 class="page-title" data-i18n="accounts">Accounts</h1>
          <div class="greeting">
            Hi, <span class="user-name">Loading‚Ä¶</span>
          </div>
        </div>

        <button class="btn" id="addAccountBtn">
          <iconify-icon class="ic" icon="mdi:plus"></iconify-icon>
          <span data-i18n="addAccount">Add Account</span>
        </button>
      </div>

      <div class="tabs" role="tablist" aria-label="Account type">
        <button class="tab active" id="tabLive" role="tab" aria-selected="true" aria-controls="panelLive" data-i18n="live">Live</button>
        <button class="tab" id="tabDemo" role="tab" aria-selected="false" aria-controls="panelDemo" data-i18n="demo">Demo</button>
      </div>

      <!-- LIVE (old box) -->
      <div id="panelLive" role="tabpanel" aria-labelledby="tabLive">
        <div class="account-card" data-account-type="live" hidden>
          <div class="card-head">
            <span class="chip chip-live" data-i18n="live">Live</span>
            <span class="chip chip-broker">Deriv</span>
          </div>

          <div class="card-body">
            <div class="big-amount" id="liveAmount">‚Äî</div>
               
             <button class="icon-btn sm" id="cardBalanceToggle" aria-label="Hide balance">
                <iconify-icon class="ic" id="cardEye" icon="mdi:eye-outline"></iconify-icon>
              </button>
            </div>
          </div>

          <div class="line-art" aria-hidden="true"></div>
        </div>
      </div>

      <!-- DEMO (old box) -->
      <div id="panelDemo" role="tabpanel" aria-labelledby="tabDemo" hidden>
        <div class="account-card" data-account-type="demo">
          <div class="card-head">
            <span class="chip chip-demo" data-i18n="demo">Demo</span>
            <span class="chip chip-broker">Deriv</span>
          </div>

          <div class="card-body">
            <div class="big-amount" id="demoAmount">‚Äî</div>

            <div class="card-actions">
              <button class="icon-btn sm" id="cardBalanceToggleDemo" aria-label="Hide balance">
                <iconify-icon class="ic" id="cardEyeDemo" icon="mdi:eye-outline"></iconify-icon>
              </button>
            </div>
          </div>

          <div class="line-art" aria-hidden="true"></div>
        </div>
      </div>
    </section>

    <!-- ===== FOOTER ===== -->
    <footer class="legal-footer">
      <div class="footer-inner">
        <p class="footer-risk">
          <strong>‚ö†Ô∏è Risk Disclaimer:</strong><br><br>
          Trading in financial markets carries inherent risks, including the potential for loss of capital.
          Performance may vary based on market conditions, account size, risk tolerance, and execution
          environment. While Market Llama is built to deliver consistent, data driven performance through
          advanced automation and professional account management, no trading environment is completely
          without risk.
          <br><br>
          Users should understand that smaller accounts face higher exposure to volatility, faster drawdown
          cycles, and reduced margin flexibility compared to larger accounts. Larger accounts can withstand
          market fluctuations more effectively, but they are still subject to market risk and temporary
          performance deviations.
          <br><br>
          Market Llama operates as a technology-enabled, professional account management platform similar
          to institutional asset managers providing users with sophisticated trading systems, automated
          execution, and real-time risk controls. Our purpose is to optimize performance, protect user
          capital, and deliver institutional-grade trading outcomes.
          <br><br>
          By connecting your trading account to Market Llama, you acknowledge that every investment activity
          carries risk, and that results can vary across market conditions. We commit to operating
          transparently, managing accounts responsibly, and applying disciplined, data driven strategies
          designed to achieve consistent long-term performance.
        </p>

        <div class="footer-links">
          <ul class="footer-links-list">
            <li><a href="privacy.html">Privacy Policy</a></li>
            <li><a href="terms.html">Terms &amp; Conditions</a></li>
            <li><a href="#">Refund &amp; Billing Policy</a></li>
            <li><a href="#">Support</a></li>
            <li><a href="#">Whatsapp</a></li>
            <li><a href="#">Twitter</a></li>
            <li><a href="#">Instagram</a></li>
          </ul>
        </div>
      </div>
    </footer>
  </main>

  <!-- ===== CHAT WIDGET ===== -->
  <button id="chatFab" class="chat-fab" aria-label="Open chat" aria-controls="chatPanel">
    <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.8"
         stroke-linecap="round" stroke-linejoin="round" aria-hidden="true">
      <path d="M20 3H4a2 2 0 0 0-2 2v12l4-4h14a2 2 0 0 0 2-2V5a2 2 0 0 0-2-2z" />
      <circle cx="9" cy="10" r="1.25" />
      <circle cx="12" cy="10" r="1.25" />
      <circle cx="15" cy="10" r="1.25" />
    </svg>
  </button>

  <div id="chatPanel" class="chat-panel" role="dialog" aria-label="Assistant chat"
       aria-modal="true" aria-hidden="true">
    <div class="chat-header">
      <div class="chat-title">Assistant</div>
      <button id="chatClose" class="chat-close" aria-label="Close chat">√ó</button>
    </div>
    <div class="chat-body" id="chatBody">
      <div class="chat-msg bot">Hi! How can I help?</div>
    </div>
    <form id="chatForm" class="chat-input-row">
      <input id="chatInput" type="text" placeholder="Type a message‚Ä¶" autocomplete="off" />
      <button class="chat-send" type="submit">Send</button>
    </form>
  </div>

  <script>
    document.addEventListener('DOMContentLoaded', function () {
      const params = new URLSearchParams(window.location.search);
      let currentLang = params.get('lang') || 'en';

      const translations = {
        en: {
          accounts: "Accounts",
          greeting: "Hi, Trader.",
          addAccount: "Add Account",
          live: "Live",
          demo: "Demo",
          paymentsWallet: "Payments & Wallet",
          subscription: "Subscription Plan",
          transactionHistory: "Transaction History",
          insight: "Insight",
          performance: "Performance",
          chart: "Chart",
          instructions: "Instructions",
          settings: "Settings"
        },
        de: {
          accounts: "Konten",
          greeting: "Hi, Trader.",
          addAccount: "Konto hinzuf√ºgen",
          live: "Live",
          demo: "Demo",
          paymentsWallet: "Zahlungen & Wallet",
          subscription: "Abonnementplan",
          transactionHistory: "Transaktionsverlauf",
          insight: "Einblicke",
          performance: "Leistung",
          chart: "Diagramm",
          instructions: "Anleitung",
          settings: "Einstellungen"
        },
        es: {
          accounts: "Cuentas",
          greeting: "Hola, Trader.",
          addAccount: "Agregar cuenta",
          live: "Real",
          demo: "Demo",
          paymentsWallet: "Pagos & Cartera",
          subscription: "Plan de Suscripci√≥n",
          transactionHistory: "Historial de Transacciones",
          insight: "Perspectiva",
          performance: "Rendimiento",
          chart: "Gr√°fico",
          instructions: "Instrucciones",
          settings: "Configuraci√≥n"
        },
        fr: {
          accounts: "Comptes",
          greeting: "Salut, Trader.",
          addAccount: "Ajouter un compte",
          live: "R√©el",
          demo: "D√©mo",
          paymentsWallet: "Paiements & Portefeuille",
          subscription: "Plan d'abonnement",
          transactionHistory: "Historique des transactions",
          insight: "Aper√ßu",
          performance: "Performance",
          chart: "Graphique",
          instructions: "Instructions",
          settings: "Param√®tres"
        },
        ar: {
          accounts: "ÿßŸÑÿ≠ÿ≥ÿßÿ®ÿßÿ™",
          greeting: "ŸÖÿ±ÿ≠ÿ®ÿßŸãÿå ÿßŸÑŸÖÿ™ÿØÿßŸàŸÑ.",
          addAccount: "ÿ•ÿ∂ÿßŸÅÿ© ÿ≠ÿ≥ÿßÿ®",
          live: "ÿ≠ŸÇŸäŸÇŸä",
          demo: "ÿ™ÿ¨ÿ±Ÿäÿ®Ÿä",
          paymentsWallet: "ÿßŸÑŸÖÿØŸÅŸàÿπÿßÿ™ ŸàÿßŸÑŸÖÿ≠ŸÅÿ∏ÿ©",
          subscription: "ÿÆÿ∑ÿ© ÿßŸÑÿßÿ¥ÿ™ÿ±ÿßŸÉ",
          transactionHistory: "ÿ≥ÿ¨ŸÑ ÿßŸÑŸÖÿπÿßŸÖŸÑÿßÿ™",
          insight: "ÿ±ÿ§Ÿâ",
          performance: "ÿßŸÑÿ£ÿØÿßÿ°",
          chart: "ÿßŸÑÿ±ÿ≥ŸÖ ÿßŸÑÿ®ŸäÿßŸÜŸä",
          instructions: "ÿßŸÑÿ™ÿπŸÑŸäŸÖÿßÿ™",
          settings: "ÿßŸÑÿ•ÿπÿØÿßÿØÿßÿ™"
        }
      };

      if (!translations[currentLang]) currentLang = 'en';

      function updateNavLinks() {
        const pages = ['accounts','insight','performance','chart','instructions','profile','subscriptionplan'];
        pages.forEach(type => {
          document.querySelectorAll('[data-link="' + type + '"]').forEach(a => {
            a.href = type + '.html?lang=' + currentLang;
          });
        });
      }

      function applyLanguage(lang) {
        const t = translations[lang] || translations.en;

        document.querySelectorAll('[data-i18n]').forEach(el => {
          const key = el.getAttribute('data-i18n');
          if (t[key]) el.textContent = t[key];
        });

        document.documentElement.setAttribute('dir', lang === 'ar' ? 'rtl' : 'ltr');
        updateNavLinks();
      }

      // Accordion submenu
      const accordion = document.querySelector('.accordion');
      const submenu = document.querySelector('.submenu');
      const chevron = document.querySelector('.chevron');

      function closeDropdown() {
        if (submenu && !submenu.hidden) {
          submenu.hidden = true;
          if (accordion) accordion.setAttribute('aria-expanded', 'false');
          if (chevron) chevron.setAttribute('icon', 'mdi:chevron-down');
        }
      }

      if (accordion && submenu && chevron) {
        accordion.addEventListener('click', (e) => {
          e.preventDefault();
          e.stopPropagation();
          const isExpanded = accordion.getAttribute('aria-expanded') === 'true';
          accordion.setAttribute('aria-expanded', String(!isExpanded));
          submenu.hidden = isExpanded;
          chevron.setAttribute('icon', isExpanded ? 'mdi:chevron-down' : 'mdi:chevron-up');
        });
      }

      // Mobile sidebar
      const mobileSideTrigger = document.getElementById('mobileSideTrigger');
      const sidebar = document.getElementById('sidebar');
      const backdrop = document.getElementById('backdrop');

      if (mobileSideTrigger && sidebar && backdrop) {
        mobileSideTrigger.addEventListener('click', (e) => {
          e.stopPropagation();
          const isExpanded = mobileSideTrigger.getAttribute('aria-expanded') === 'true';
          mobileSideTrigger.setAttribute('aria-expanded', String(!isExpanded));
          sidebar.classList.toggle('open');
          backdrop.hidden = isExpanded;
          if (!sidebar.classList.contains('open')) closeDropdown();
        });

        backdrop.addEventListener('click', () => {
          mobileSideTrigger.setAttribute('aria-expanded', 'false');
          sidebar.classList.remove('open');
          backdrop.hidden = true;
          closeDropdown();
        });
      }

      // Desktop collapse (fills screen correctly)
      const sideToggle = document.getElementById('sideToggle');
      if (sideToggle && sidebar) {
        sideToggle.addEventListener('click', (e) => {
          e.stopPropagation();
          const isExpanded = sideToggle.getAttribute('aria-expanded') === 'true';
          sideToggle.setAttribute('aria-expanded', String(!isExpanded));
          sidebar.setAttribute('data-state', isExpanded ? 'collapsed' : 'expanded');

          const chevronIcon = sideToggle.querySelector('iconify-icon');
          if (chevronIcon) {
            chevronIcon.setAttribute('icon', isExpanded ? 'mdi:chevron-double-right' : 'mdi:chevron-double-left');
          }
          if (isExpanded) closeDropdown();
        });
      }

      // Tabs (Live/Demo)
      const tabLive = document.getElementById('tabLive');
      const tabDemo = document.getElementById('tabDemo');
      const panelLive = document.getElementById('panelLive');
      const panelDemo = document.getElementById('panelDemo');

      function setTab(which) {
        const isLive = which === 'live';
        tabLive.classList.toggle('active', isLive);
        tabDemo.classList.toggle('active', !isLive);
        tabLive.setAttribute('aria-selected', String(isLive));
        tabDemo.setAttribute('aria-selected', String(!isLive));
        panelLive.hidden = !isLive;
        panelDemo.hidden = isLive;
      }

      if (tabLive && tabDemo && panelLive && panelDemo) {
        tabLive.addEventListener('click', () => setTab('live'));
        tabDemo.addEventListener('click', () => setTab('demo'));
      }

      // Language dropdown
      const languageBtn = document.getElementById('languageBtn');
      const languageDropdown = document.getElementById('languageDropdown');

      if (languageBtn && languageDropdown) {
        languageBtn.addEventListener('click', (e) => { e.stopPropagation(); languageDropdown.hidden = !languageDropdown.hidden; });
        languageDropdown.addEventListener('click', (e) => e.stopPropagation());

        languageDropdown.querySelectorAll('.lang-option').forEach(option => {
          option.addEventListener('click', () => {
            const lang = option.getAttribute('data-lang');
            if (!translations[lang]) return;
            currentLang = lang;
            const url = new URL(window.location.href);
            url.searchParams.set('lang', currentLang);
            window.location.href = url.pathname + '?' + url.searchParams.toString();
          });
        });

        document.addEventListener('click', () => { languageDropdown.hidden = true; });
      }

      // Click outside closes submenu
      document.addEventListener('click', () => closeDropdown());

      // initial
      applyLanguage(currentLang);
    });
  </script>

  <script>
    document.addEventListener('DOMContentLoaded', function () {
      const chatFab = document.getElementById('chatFab');
      const chatPanel = document.getElementById('chatPanel');
      const chatClose = document.getElementById('chatClose');
      const chatForm = document.getElementById('chatForm');
      const chatInput = document.getElementById('chatInput');
      const chatBody = document.getElementById('chatBody');

      function openChat() {
        chatPanel.classList.add('open');
        chatPanel.setAttribute('aria-hidden', 'false');
        if (chatInput) setTimeout(() => chatInput.focus(), 80);
      }
      function closeChat() {
        chatPanel.classList.remove('open');
        chatPanel.setAttribute('aria-hidden', 'true');
      }

      if (chatFab) {
        chatFab.addEventListener('click', function (e) {
          e.stopPropagation();
          chatPanel.classList.contains('open') ? closeChat() : openChat();
        });
      }

      if (chatClose) {
        chatClose.addEventListener('click', function (e) {
          e.stopPropagation();
          closeChat();
        });
      }

      document.addEventListener('click', function (e) {
        if (!chatPanel.classList.contains('open')) return;
        const target = e.target;
        if (chatPanel.contains(target) || chatFab.contains(target)) return;
        e.preventDefault();
        e.stopPropagation();
        closeChat();
      }, true);

      if (chatForm && chatInput && chatBody) {
        chatForm.addEventListener('submit', function (e) {
          e.preventDefault();
          const text = chatInput.value.trim();
          if (!text) return;
          const msg = document.createElement('div');
          msg.className = 'chat-msg user';
          msg.textContent = text;
          chatBody.appendChild(msg);
          chatInput.value = '';
          chatBody.scrollTop = chatBody.scrollHeight;
        });
      }
    });
  </script>

<!-- ===== ADD ACCOUNT MODAL ===== -->
<div id="addAccountModal" class="modal-backdrop" hidden>
  <div class="account-card" style="max-width:420px;margin:auto;">
    <div class="card-head">
      <strong>Add Broker</strong>
      <button class="icon-btn sm" id="closeAddAccount">√ó</button>
    </div>

    <div class="card-body" style="flex-direction:column;align-items:stretch;">
      <div style="display:flex;justify-content:space-between;align-items:center;">
        <span class="chip chip-broker">Deriv</span>
        <button class="btn" id="connectDerivModalBtn">
          <iconify-icon class="ic" icon="mdi:link-variant"></iconify-icon>
          Connect
        </button>
      </div>

      <p class="muted" style="margin-top:14px;">
        More brokers coming soon
      </p>
    </div>
  </div>
</div>

<script src="scripts/auth.js?v=1.0.1"></script>
  <script src="scripts/accounts.js?v=1.0.1"></script>

  <script>
document.addEventListener('DOMContentLoaded', () => {
  const addBtn = document.getElementById('addAccountBtn');
  const modal = document.getElementById('addAccountModal');
  const closeBtn = document.getElementById('closeAddAccount');

  if (!addBtn || !modal) return;

  // Open modal
  addBtn.addEventListener('click', () => {
    modal.hidden = false;
  });

  // Close via X button
  closeBtn?.addEventListener('click', () => {
    modal.hidden = true;
  });

  // Close when clicking backdrop
  modal.addEventListener('click', (e) => {
    if (e.target === modal) modal.hidden = true;
  });
});
</script>
</body>
</html>